{"version":3,"sources":["data/dom.tsx","helper/helper.tsx","data/dom_functions.tsx","redux/reducer.tsx","redux/store.tsx","redux/actions/clear_actions.tsx","redux/actions/actions.tsx","components/DOM/Label.tsx","components/DOM/Separator.tsx","components/DOM/LayerDnd.tsx","components/DOM/Layer.tsx","components/DOM/LayerClose.tsx","components/DOM/Parent.tsx","components/DOM/Children.tsx","components/DOM/LayersList.tsx","components/DOM/Layers.tsx","components/LabelModal/LabelPanel.tsx","components/DOM/DOM.tsx","components/LeftSide/LeftSide.tsx","components/App/App.tsx","index.tsx","assets/svg/view.svg","assets/svg/not_eye.svg","assets/svg/inherit_unvisible.svg","assets/svg/arrow_dom.svg","assets/svg/close.svg","assets/svg/layer.svg"],"names":["not_close_tags","data","tag","children","attributes","lang","open","visible","id","charset","name","content","onlyText","textContent","rel","href","class","title","src","arr_equal","arr1","arr2","Array","length","every","item","i","pauseEvent","e","stopPropagation","preventDefault","cancelBubble","returnValue","is_active","url","active_url","Helper","insert_element","position","dom","nw_url","slice","index","Number","pop","list","getIn","toArray","list2","active_url2","indexs","nw_dom","push","forEach","active_item","list3","fromJS","actvs_right","url_sort","calc_to","calculate_to","to","count_before_to","to_url","act_url","splice","bool","deleteIn","collapsing_textContent","active","l","url_comparison_hierarchy","temp_arr","setIn","InsertElement","top","bottom","getItem","elem","elem2","toJS","immersion","String","Math","random","iter","parent_arr","parent","size","get","set","getIndexDivergency","from","array","Object","myto","ind_diff","url_comparison","arr_length","length_sort","pivot","filter","greater","less","qw","c","sub_item","j","isNaN","clear_repeat_url","cp_active_url","map","join","res","pos","indexOf","split","active_url_shift","comparison","active_urls","base","temp","down_move","end","up_move","children_move","cx_move","InitialState","dnd","move","saved_items","mode_save","count_items","reducer","state","action","type","payload","store","createStore","composeWithDevTools","applyMiddleware","thunk","change_store","obj","change_to","change_active","change_dnd","change_dom","VNode","require","VText","convertHTML","hotkeys_object","ctrl","shift","document","addEventListener","keyCode","hotkeys","add","handler","cx_change_saved_items","dispatch","getState","oncePressing","cx_insertion_elements","cx_delete_elements","Data","Clear","transform_save_items","save_item","List","save_arr","cx_change_active","copy_active_url","copy","arr_indexs","num","uniqueArray","sort","a","b","delete_nested_active_url","cx_move_items","cxr_move_items","change_visible","value","updateIn","change_item","label","vdom","attrs","properties","key","key2","func","nw_item","cx_update_dom","props","tagName","bool_close_tag","some","undefined","text","change_open","cx_handle_mouseup_layer","data_to","copy_url","actvs","to_elem","has","textcontent_obj","Map","Label","handleChangeLabel","bind","this","setState","changeLabel","prevProps","prevState","className","onValueChange","code","highlight","Prism","languages","html","padding","style","fontFamily","fontSize","Component","Separator","separatorRef","createRef","current","onmouseup","TrackMouseUp","classes","styleBefore","height","height_before","styleAfter","height_after","ref","LayerDnd","height_beforeTop","height_afterTop","height_beforeBottom","height_afterBottom","labelRef","handleMouseOver","handleMouseOut","updateLabelOptions","forceUpdate","nextProps","target","getAttribute","classList","remove","toFixed","li","parentNode","offsetHeight","bedoreHeight","res_height","previousSibling","prev_li","contains","prev_height","getHeight","sub","top_separator","bottom_separator","zIndex","overlayProps","onMouseOver","onMouseOut","mapDispatchToProps","Action","connect","styleOpenArrow","transform","Layer","edit","hover","arrow","view","classnames","layerDnd","timer","setTimeout","mousedowncount","changeOpen","changeVisible","changeActive","handleMouseDown","handleMouseUp","docmousedown","mouseUpSeparator","conversion","nextState","childs_unvisible","state_equal","props_equal","obj1","obj2","entries","item_equal","state_obj","zeroing_functions","pl","children_size","onMouseDown","arrow_src","alt","inherit_unvisible_src","view_src","not_eye_src","unvisible","center","marginLeft","dnd_props","last","onmousemove","onmouseout","onmousedown","onselectstart","clearTimeout","removeEventListener","cx_active_mouseup","m","z","cl_change_active","ownProps","delete","state1","state2","width","left","changeEdit","getBoundingClientRect","offsetWidth","hierarchy_bool","Parent","children_props","layer_props","closeLayer_props","childs","handleChangeVisible","handleChangeOpen","conversation","bool_childs","is","state_props","close_layer","txt","LayerClose","x","Children","Components","parent_props","keys_equal","Fragment","hasIn","LayersList","styleVerticalCursor","background","borderRadius","corsor","styleVerticalTrack","Layers2","speed","contentClassName","smoothScrolling","verticalScrollbarStyle","verticalContainerStyle","horizontal","LabelPanel","icon","close","close_url","DOM","Layers","LeftSide","App","root","querySelector","ReactDOM","render","module","exports"],"mappings":"uRAiSaA,EAAiB,CAAC,KAAM,KAAM,MAAO,QAAS,OAAQ,QAEpDC,EAnSF,CACXC,IAAK,MACLC,SAAU,CACR,CACED,IAAK,OACLE,WAAY,CACVC,KAAM,MAERC,MAAM,EACNC,SAAS,EACTC,GAAI,OACJL,SAAU,CACR,CACED,IAAK,OACLE,WAAY,CACVC,KAAM,MAERC,MAAM,EACNC,SAAS,EACTC,GAAI,OACJL,SAAU,CACR,CACED,IAAK,OACLE,WAAY,CACVK,QAAS,SAEXH,MAAM,EACNC,SAAS,EACTC,GAAI,gBAEN,CACEN,IAAK,OACLE,WAAY,CACVM,KAAM,WACNC,QAAS,uCAEXL,MAAM,EACNC,SAAS,EACTC,GAAI,aAEN,CACEN,IAAK,QACLI,MAAM,EACNC,SAAS,EACTC,GAAI,aACJI,UAAU,EACVC,YAAa,YAEf,CACEX,IAAK,OACLE,WAAY,CACVU,IAAK,aACLC,KAAM,aAERT,MAAM,EACNC,SAAS,EACTC,GAAI,oBAIV,CACEN,IAAK,OACLI,MAAM,EACNC,SAAS,EACTC,GAAI,OACJL,SAAU,CACR,CACED,IAAK,SACLI,MAAM,EACNC,SAAS,EACTC,GAAI,SACJL,SAAU,CACR,CACED,IAAK,MACLI,MAAM,EACNC,SAAS,EACTC,GAAI,MACJL,SAAU,CACR,CACED,IAAK,MACLE,WAAY,CACVY,MAAO,YACPC,MAAO,YACPhB,KAAM,OACNO,GAAI,OACJE,KAAM,QAERJ,MAAM,EACNC,SAAS,EACTC,GAAI,YACJL,SAAU,CACR,CACED,IAAK,IACLE,WAAY,CACVY,MAAO,oBAETV,MAAM,EACNC,SAAS,EACTC,GAAI,aACJL,SAAU,MAIhB,CACED,IAAK,MACLE,WAAY,CACVY,MAAO,QAETV,MAAM,EACNC,SAAS,EACTC,GAAI,OACJK,YAAa,OACbV,SAAU,IAEZ,CACED,IAAK,MACLE,WAAY,CACVY,MAAO,QAETV,MAAM,EACNC,SAAS,EACTC,GAAI,OACJL,SAAU,CACR,CACED,IAAK,KACLI,MAAM,EACNC,SAAS,EACTC,GAAI,UACJL,SAAU,CACR,CACED,IAAK,KACLI,MAAM,EACNC,SAAS,EACTC,GAAI,eACJL,SAAU,CACR,CACED,IAAK,IACLE,WAAY,CACVW,KAAM,KAERT,MAAM,EACNC,SAAS,EACTC,GAAI,iBACJK,YAAa,OACbV,SAAU,MAIhB,CACED,IAAK,KACLI,MAAM,EACNC,SAAS,EACTC,GAAI,eACJL,SAAU,CACR,CACED,IAAK,IACLE,WAAY,CACVW,KAAM,KAERT,MAAM,EACNC,SAAS,EACTC,GAAI,iBACJK,YAAa,QACbV,SAAU,MAIhB,CACED,IAAK,KACLI,MAAM,EACNC,SAAS,EACTC,GAAI,eACJL,SAAU,CACR,CACED,IAAK,IACLE,WAAY,CACVW,KAAM,KAERT,MAAM,EACNC,SAAS,EACTC,GAAI,iBACJK,YAAa,OACbV,SAAU,MAIhB,CACED,IAAK,KACLI,MAAM,EACNC,SAAS,EACTC,GAAI,eACJL,SAAU,CACR,CACED,IAAK,IACLE,WAAY,CACVW,KAAM,KAERT,MAAM,EACNC,SAAS,EACTC,GAAI,iBACJK,YAAa,UACbV,SAAU,cAYhC,CACED,IAAK,SACLI,MAAM,EACNC,SAAS,EACTH,WAAY,CACVc,IAAK,uBAEPV,GAAI,YACJL,SAAU,IAEZ,CACED,IAAK,MACLE,WAAY,CACVY,MAAO,WAETR,GAAI,UACJF,MAAM,EACNC,SAAS,EACTJ,SAAU,CACR,CACED,IAAK,IACLI,MAAM,EACNC,SAAS,EAETC,GAAI,cACJL,SAAU,CACR,CACEG,MAAM,EACNC,SAAS,EACTC,GAAI,mBACJK,YACE,sPAIR,CACEX,IAAK,IACLI,MAAM,EACNC,SAAS,EAETC,GAAI,cACJL,SAAU,CACR,CACEG,MAAM,EACNC,SAAS,EACTC,GAAI,mBACJK,YACE,sPAIR,CACEX,IAAK,IACLI,MAAM,EACNC,SAAS,EAETC,GAAI,cACJL,SAAU,CACR,CACEG,MAAM,EACNC,SAAS,EACTC,GAAI,mBACJK,YACE,8P,2GCpRjB,SAASM,EAAUC,EAAaC,GACrC,GAAID,aAAgBE,OAASD,aAAgBC,MAC3C,OAAIF,EAAKG,SAAWF,EAAKE,QAChBH,EAAKI,O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","file":"static/js/main.300c5c93.chunk.js","sourcesContent":["const data = {\r\n  tag: 'doc',\r\n  children: [\r\n    {\r\n      tag: 'html',\r\n      attributes: {\r\n        lang: 'en',\r\n      },\r\n      open: true,\r\n      visible: true,\r\n      id: 'html',\r\n      children: [\r\n        {\r\n          tag: 'head',\r\n          attributes: {\r\n            lang: 'en',\r\n          },\r\n          open: true,\r\n          visible: true,\r\n          id: 'head',\r\n          children: [\r\n            {\r\n              tag: 'meta',\r\n              attributes: {\r\n                charset: 'UTF-8',\r\n              },\r\n              open: false,\r\n              visible: true,\r\n              id: 'meta charset',\r\n            },\r\n            {\r\n              tag: 'meta',\r\n              attributes: {\r\n                name: 'viewport',\r\n                content: 'width=device-width, initial-scale=1',\r\n              },\r\n              open: false,\r\n              visible: true,\r\n              id: 'meta name',\r\n            },\r\n            {\r\n              tag: 'title',\r\n              open: false,\r\n              visible: true,\r\n              id: 'head title',\r\n              onlyText: true,\r\n              textContent: 'Document',\r\n            },\r\n            {\r\n              tag: 'link',\r\n              attributes: {\r\n                rel: 'stylesheet',\r\n                href: 'style.css',\r\n              },\r\n              open: false,\r\n              visible: true,\r\n              id: 'link style.css',\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          tag: 'body',\r\n          open: true,\r\n          visible: true,\r\n          id: 'body',\r\n          children: [\r\n            {\r\n              tag: 'header',\r\n              open: true,\r\n              visible: true,\r\n              id: 'header',\r\n              children: [\r\n                {\r\n                  tag: 'nav',\r\n                  open: true,\r\n                  visible: true,\r\n                  id: 'nav',\r\n                  children: [\r\n                    {\r\n                      tag: 'div',\r\n                      attributes: {\r\n                        class: 'menu-icon',\r\n                        title: 'Menu icon',\r\n                        data: 'menu',\r\n                        id: 'menu',\r\n                        name: 'menu',\r\n                      },\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'menu-icon',\r\n                      children: [\r\n                        {\r\n                          tag: 'i',\r\n                          attributes: {\r\n                            class: 'fa fa-bars fa-2x',\r\n                          },\r\n                          open: false,\r\n                          visible: true,\r\n                          id: 'fa fa-bars',\r\n                          children: [],\r\n                        },\r\n                      ],\r\n                    },\r\n                    {\r\n                      tag: 'div',\r\n                      attributes: {\r\n                        class: 'logo',\r\n                      },\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'logo',\r\n                      textContent: 'LOGO',\r\n                      children: [],\r\n                    },\r\n                    {\r\n                      tag: 'div',\r\n                      attributes: {\r\n                        class: 'menu',\r\n                      },\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'menu',\r\n                      children: [\r\n                        {\r\n                          tag: 'ul',\r\n                          open: false,\r\n                          visible: true,\r\n                          id: 'menu ul',\r\n                          children: [\r\n                            {\r\n                              tag: 'li',\r\n                              open: false,\r\n                              visible: true,\r\n                              id: 'menu ul li 1',\r\n                              children: [\r\n                                {\r\n                                  tag: 'a',\r\n                                  attributes: {\r\n                                    href: '#',\r\n                                  },\r\n                                  open: false,\r\n                                  visible: true,\r\n                                  id: 'menu ul li 1 a',\r\n                                  textContent: 'Home',\r\n                                  children: [],\r\n                                },\r\n                              ],\r\n                            },\r\n                            {\r\n                              tag: 'li',\r\n                              open: false,\r\n                              visible: true,\r\n                              id: 'menu ul li 2',\r\n                              children: [\r\n                                {\r\n                                  tag: 'a',\r\n                                  attributes: {\r\n                                    href: '#',\r\n                                  },\r\n                                  open: false,\r\n                                  visible: true,\r\n                                  id: 'menu ul li 2 a',\r\n                                  textContent: 'About',\r\n                                  children: [],\r\n                                },\r\n                              ],\r\n                            },\r\n                            {\r\n                              tag: 'li',\r\n                              open: false,\r\n                              visible: true,\r\n                              id: 'menu ul li 3',\r\n                              children: [\r\n                                {\r\n                                  tag: 'a',\r\n                                  attributes: {\r\n                                    href: '#',\r\n                                  },\r\n                                  open: false,\r\n                                  visible: true,\r\n                                  id: 'menu ul li 3 a',\r\n                                  textContent: 'Blog',\r\n                                  children: [],\r\n                                },\r\n                              ],\r\n                            },\r\n                            {\r\n                              tag: 'li',\r\n                              open: false,\r\n                              visible: true,\r\n                              id: 'menu ul li 4',\r\n                              children: [\r\n                                {\r\n                                  tag: 'a',\r\n                                  attributes: {\r\n                                    href: '#',\r\n                                  },\r\n                                  open: false,\r\n                                  visible: true,\r\n                                  id: 'menu ul li 4 a',\r\n                                  textContent: 'Contact',\r\n                                  children: [],\r\n                                },\r\n                              ],\r\n                            },\r\n                          ],\r\n                        },\r\n                      ],\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              tag: 'script',\r\n              open: false,\r\n              visible: true,\r\n              attributes: {\r\n                src: 'jquery-3.3.1.min.js',\r\n              },\r\n              id: 'jquery js',\r\n              children: [],\r\n            },\r\n            {\r\n              tag: 'div',\r\n              attributes: {\r\n                class: 'content',\r\n              },\r\n              id: 'content',\r\n              open: false,\r\n              visible: true,\r\n              children: [\r\n                {\r\n                  tag: 'p',\r\n                  open: false,\r\n                  visible: true,\r\n\r\n                  id: 'content p 1',\r\n                  children: [\r\n                    {\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'content p 1 text',\r\n                      textContent:\r\n                        'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat perspiciatis explicabo quia tenetur, laudantium debitis totam quo accusantium minus ad, quis consequatur saepe similique, beatae quisquam nulla impedit consectetur inventore.',\r\n                    },\r\n                  ],\r\n                },\r\n                {\r\n                  tag: 'p',\r\n                  open: false,\r\n                  visible: true,\r\n\r\n                  id: 'content p 2',\r\n                  children: [\r\n                    {\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'content p 2 text',\r\n                      textContent:\r\n                        'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat perspiciatis explicabo quia tenetur, laudantium debitis totam quo accusantium minus ad, quis consequatur saepe similique, beatae quisquam nulla impedit consectetur inventore.',\r\n                    },\r\n                  ],\r\n                },\r\n                {\r\n                  tag: 'p',\r\n                  open: false,\r\n                  visible: true,\r\n\r\n                  id: 'content p 3',\r\n                  children: [\r\n                    {\r\n                      open: false,\r\n                      visible: true,\r\n                      id: 'content p 3 text',\r\n                      textContent:\r\n                        'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat perspiciatis explicabo quia tenetur, laudantium debitis totam quo accusantium minus ad, quis consequatur saepe similique, beatae quisquam nulla impedit consectetur inventore.',\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nexport const not_close_tags = ['hr', 'br', 'img', 'input', 'meta', 'link'];\r\n\r\nexport default data;\r\n","export function arr_equal(arr1: any[], arr2: any[]) {\r\n  if (arr1 instanceof Array && arr2 instanceof Array) {\r\n    if (arr1.length === arr2.length) {\r\n      return arr1.every((item: any, i: number) => {\r\n        return item === arr2[i];\r\n      });\r\n    } else return false;\r\n  }\r\n}\r\n\r\nexport function pauseEvent(e: any) {\r\n  if (e.stopPropagation) e.stopPropagation();\r\n  if (e.preventDefault) e.preventDefault();\r\n  e.cancelBubble = true;\r\n  e.returnValue = false;\r\n  return false;\r\n}\r\nexport function sort_num(array: number[]) {\r\n  array.sort(function (a: number, b: number) {\r\n    return b - a;\r\n  });\r\n}\r\n","import { List, fromJS } from 'immutable';\r\nimport * as Helper from '../helper/helper';\r\nimport { Turl, Tto } from '../redux/interfaces';\r\n\r\n// Есть ли определенный адрес в активных елементах\r\nexport const is_active = (url: Turl, active_url: Turl[]) => {\r\n  for (let i = 0; i < active_url.length; i++) {\r\n    if (Helper.arr_equal(active_url[i], url)) return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n// Вставка елемента в зависимости от позиции: top or bottom\r\nconst insert_element = (position: string) => (\r\n  url: Turl,\r\n  dom: any,\r\n  active_url: any,\r\n) => {\r\n  let nw_url = url.slice();\r\n\r\n  let index = Number(nw_url.pop()); // индекс в children\r\n  let list = dom.getIn(nw_url).toArray(); //\r\n  let list2 = [];\r\n  let active_url2: any = [];\r\n  let indexs: number[] = [];\r\n\r\n  let nw_dom = dom;\r\n  let bool = false;\r\n\r\n  for (let i = 0; i < index; i++) {\r\n    bool = is_active([...nw_url, i], active_url);\r\n    if (!bool) list2.push(list[i]);\r\n  }\r\n\r\n  if (position === 'bottom') {\r\n    bool = is_active([...nw_url, index], active_url);\r\n    if (!bool) list2.push(list[index]);\r\n  }\r\n\r\n  active_url.forEach((active_item: any) => {\r\n    list2.push(dom.getIn(active_item));\r\n    indexs.push(list2.length - 1);\r\n  });\r\n\r\n  let w = position === 'top' ? index : index + 1;\r\n\r\n  for (let i = w; i < list.length; i++) {\r\n    let bool = is_active([...nw_url, i], active_url);\r\n    if (!bool) list2.push(list[i]);\r\n  }\r\n\r\n  let list3 = fromJS(list2);\r\n\r\n  // Отсортированный список активных адресов\r\n  let actvs_right = url_sort(active_url);\r\n\r\n  let calc_to = calculate_to(actvs_right, { to: url, position });\r\n\r\n  let count_before_to = 0;\r\n\r\n  actvs_right.forEach((active_item: any, i: number) => {\r\n    let to_url = [...nw_url];\r\n    let act_url = [...active_item];\r\n    to_url.pop();\r\n    act_url.splice(-2, 2);\r\n\r\n    if (Helper.arr_equal(act_url, to_url)) count_before_to++;\r\n  });\r\n\r\n  actvs_right.forEach((active_item: any, i: number) => {\r\n    let bool = nw_url.every((item: any, i: number) => item === active_item[i]);\r\n    nw_dom = nw_dom.deleteIn(active_item);\r\n\r\n    if (!bool) nw_dom = collapsing_textContent(nw_dom, active_item);\r\n    if (bool) {\r\n      let act_url = [...active_item];\r\n\r\n      act_url.splice(0, url.length - 1);\r\n\r\n      if (act_url.length > 1) {\r\n        if (act_url[0] < index) {\r\n          list3 = list3.deleteIn(act_url);\r\n        } else {\r\n          if (\r\n            position === 'bottom' &&\r\n            url_comparison_hierarchy(active_item, url, 'bottom') === 1\r\n          ) {\r\n          } else {\r\n            act_url[0] = act_url[0] + actvs_right.length;\r\n          }\r\n          if (actvs_right.length > 1 && count_before_to !== 0) {\r\n            if (position === 'top') {\r\n              act_url[0] = act_url[0] - count_before_to;\r\n            } else if (position === 'bottom') {\r\n              act_url[0] = act_url[0] - actvs_right.length - count_before_to;\r\n            }\r\n          }\r\n          list3 = list3.deleteIn(act_url);\r\n        }\r\n      }\r\n      list3 = collapsing_textContent(list3, act_url);\r\n    }\r\n  });\r\n\r\n  indexs.forEach((item: number, i: number) => {\r\n    let temp_arr = [...calc_to];\r\n    temp_arr[temp_arr.length - 1] = item;\r\n    active_url2.push(temp_arr);\r\n  });\r\n\r\n  calc_to.pop();\r\n  nw_dom = nw_dom.setIn(calc_to, list3);\r\n\r\n  return { nw_dom, active_url2 };\r\n};\r\n\r\nexport const InsertElement = {\r\n  top: insert_element('top'),\r\n  bottom: insert_element('bottom'),\r\n};\r\n\r\n// Функция для погружения и изменения id всех элементов\r\nfunction immersion(item: any) {\r\n  item.id = String(Math.random());\r\n\r\n  if (item['children']) {\r\n    item['children'].forEach((iter: any) => {\r\n      immersion(iter);\r\n    });\r\n  }\r\n}\r\n\r\n// Функция для изменения id всех елементов\r\nfunction getItem(elem: any) {\r\n  let elem2 = elem.toJS();\r\n\r\n  immersion(elem2);\r\n\r\n  return fromJS(elem2);\r\n}\r\n\r\n// Копирует елемент и вставляет его вниз последнего активного элементв\r\nexport const clone_bottom_elements = (\r\n  saved_items: any[],\r\n  dom: any,\r\n  active_url: any[],\r\n) => {\r\n  let transform_save_items: any[] = [];\r\n\r\n  saved_items.forEach((save_item) => {\r\n    transform_save_items.push(getItem(save_item));\r\n  });\r\n\r\n  let nw_dom = dom;\r\n  let nw_url: any[];\r\n  let list2: any[] = [];\r\n  let list: any[];\r\n  let index = 0;\r\n  let active_url2: any[] = [];\r\n\r\n  nw_url = active_url[0].slice();\r\n  index = Number(nw_url.pop());\r\n  list = nw_dom.getIn(nw_url).toArray();\r\n\r\n  for (let i = 0; i <= index; i++) {\r\n    list2.push(list[i]);\r\n  }\r\n\r\n  transform_save_items.forEach((save_item: any) => {\r\n    list2.push(save_item);\r\n    active_url2.push([...nw_url, list2.length - 1]);\r\n  });\r\n\r\n  if (list.length > index + 1) {\r\n    for (let i = index + 1; i < list.length; i++) {\r\n      list2.push(list[i]);\r\n    }\r\n  }\r\n\r\n  let list3 = List(list2);\r\n\r\n  nw_dom = nw_dom.setIn(nw_url, list3);\r\n\r\n  return { nw_dom, active_url2 };\r\n};\r\n\r\n// В случае перемещения или удаления элемента, если елемент родитель имеет только 1 ребенка и это только текст, то вставить его в родитель как textcontent\r\nconst collapsing_textContent = (dom: any, active: Turl) => {\r\n  let nw_dom = dom;\r\n  let parent_arr: Turl;\r\n  let parent: any;\r\n  let textContent: any;\r\n\r\n  parent_arr = [...active];\r\n  parent_arr.splice(-1, 1);\r\n  parent = nw_dom.getIn(parent_arr);\r\n  if (parent.size === 1) {\r\n    textContent = parent.get(0).get('textContent');\r\n    if (!parent.get(0).get('tag') && textContent) {\r\n      nw_dom = nw_dom.deleteIn([...parent_arr, 0]);\r\n      parent_arr.splice(-1, 1);\r\n\r\n      parent = nw_dom.getIn(parent_arr);\r\n\r\n      parent = parent.set('textContent', textContent);\r\n      parent = parent.set('open', false);\r\n\r\n      nw_dom = nw_dom.setIn(parent_arr, parent);\r\n    }\r\n  }\r\n\r\n  return nw_dom;\r\n};\r\n\r\n// Удаление всех активных элементов\r\nexport const delete_elements = (dom: any, active_url: any[]) => {\r\n  let actvs_right = url_sort(active_url);\r\n  let nw_dom = dom;\r\n\r\n  actvs_right.forEach((active: any[]) => {\r\n    nw_dom = nw_dom.deleteIn(active);\r\n\r\n    nw_dom = collapsing_textContent(nw_dom, active);\r\n  });\r\n\r\n  return { nw_dom };\r\n};\r\n\r\n// Сортировка активных адресов по их размеру, по уменьшению\r\nexport const length_sort = (array: Turl[]): Turl[] => {\r\n  if (array.length < 2) return array;\r\n\r\n  const pivot = array.filter((e) => e.length === array[0].length);\r\n  const greater = array.filter((e) => e.length < array[0].length);\r\n  const less = array.filter((e) => e.length > array[0].length);\r\n\r\n  return [...length_sort(less), ...pivot, ...length_sort(greater)];\r\n};\r\n\r\n// При сравнении двух url, находит первый индекс, в котором они отличаются\r\nconst getIndexDivergency = (from: Turl, to: Turl) => {\r\n  for (let i = 0; i < from.length; i++) {\r\n    if (from[i] !== to[i]) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n};\r\n\r\n// Расчитывает точный to , при перемещении активных адресов\r\nexport const calculate_to = (array: Turl[], to: Tto): any[] | any => {\r\n  if (to instanceof Object) {\r\n    let myto = [...to.to];\r\n    let url_comp = -1;\r\n    let ind_diff = -1;\r\n    array.forEach((active: Turl, i: number) => {\r\n      url_comp = url_comparison(active, myto);\r\n\r\n      if (url_comp === 2) {\r\n        ind_diff = getIndexDivergency(active, myto);\r\n        if (ind_diff > 0) {\r\n          if (ind_diff === active.length - 1) {\r\n            myto[ind_diff] = Number(myto[ind_diff]) - 1;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return myto;\r\n  }\r\n\r\n  return to;\r\n};\r\n\r\n// Сортировка url адресов\r\nexport function url_sort(array: Turl[]) {\r\n  let arr_length = length_sort(array);\r\n\r\n  let qw: any[] = [];\r\n  let index = 0;\r\n  let c = false;\r\n  while (arr_length.length !== 0) {\r\n    index = 0;\r\n    arr_length.forEach((item: any[], i: number) => {\r\n      c = false;\r\n      item.forEach((sub_item: any, j: number) => {\r\n        if (!isNaN(sub_item) && !c) {\r\n          c = true;\r\n          if (arr_length[index][j] < sub_item) index = i;\r\n          if (arr_length[index][j] === sub_item) c = false;\r\n        }\r\n      });\r\n    });\r\n\r\n    qw.push(arr_length[index].slice());\r\n    arr_length.splice(index, 1);\r\n  }\r\n\r\n  return qw;\r\n}\r\n\r\n// полный спуск при shift\r\nconst down_move = (\r\n  from: Turl,\r\n  to: Turl,\r\n  base: Turl,\r\n  index: number,\r\n  active_urls: Turl[],\r\n) => {\r\n  base.push('children');\r\n\r\n  let temp: any[] = [];\r\n\r\n  for (let j = Number(from[index]); j < to[index]; j++) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n\r\n  base.push(to[index]);\r\n\r\n  for (let i = index + 2; i < to.length; i += 2) {\r\n    base.push('children');\r\n\r\n    for (let j = 0; j < to[i]; j++) {\r\n      temp = [...base, j];\r\n      active_urls.push(temp);\r\n    }\r\n\r\n    base.push(to[i]);\r\n    if (base.length === to.length) active_urls.push(base);\r\n  }\r\n};\r\n// полный подьем при shift\r\nconst up_move = (\r\n  from: Turl,\r\n  to: Turl,\r\n  base: Turl,\r\n  index: number,\r\n  active_urls: Turl[],\r\n  dom: any,\r\n) => {\r\n  base = [...from.slice(0, -1)];\r\n  let end = dom.getIn(base).size;\r\n  let temp: any[];\r\n\r\n  for (let j = Number(from[from.length - 1]); j < end; j++) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n\r\n  base.pop();\r\n  base.pop();\r\n\r\n  for (let i = Number(from.length - 3); i > 1; i -= 2) {\r\n    end = dom.getIn(base).size;\r\n    // parent_urls.push([...base]);\r\n\r\n    for (let j = Number(from[i]); j < end; j++) {\r\n      if (j !== Number(from[i])) {\r\n        temp = [...base, j];\r\n        active_urls.push(temp);\r\n      }\r\n    }\r\n\r\n    base.pop();\r\n    base.pop();\r\n  }\r\n\r\n  end = dom.getIn(base).size;\r\n\r\n  for (let j = Number(from[index]) + 1; j <= Number(to[index]); j++) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n};\r\n// спуск а потом подьем при shift\r\nconst cx_move = (\r\n  from: Turl,\r\n  to: Turl,\r\n  index: number,\r\n  active_urls: Turl[],\r\n  dom: any,\r\n) => {\r\n  let base = [...from.slice(0, -1)];\r\n  let end = dom.getIn(base).size;\r\n  let temp: any[];\r\n\r\n  for (let j = Number(from[from.length - 1]); j < end; j++) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n\r\n  base.pop();\r\n  base.pop();\r\n\r\n  for (let i = Number(from.length - 3); i > index; i -= 2) {\r\n    end = dom.getIn(base).size;\r\n\r\n    for (let j = Number(from[i]); j < end; j++) {\r\n      if (j !== Number(from[i])) {\r\n        temp = [...base, j];\r\n        active_urls.push(temp);\r\n      }\r\n    }\r\n\r\n    base.splice(-2, 2);\r\n  }\r\n\r\n  for (let j = Number(from[index]) + 1; j < Number(to[index]); j++) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n\r\n  base.push(to[index]);\r\n\r\n  for (let i = index + 2; i < to.length; i += 2) {\r\n    base.push('children');\r\n\r\n    for (let j = 0; j < to[i]; j++) {\r\n      temp = [...base, j];\r\n      active_urls.push(temp);\r\n    }\r\n\r\n    base.push(to[i]);\r\n    if (base.length === to.length) active_urls.push(base);\r\n  }\r\n};\r\n// если активные елементы соседние при shift\r\nconst children_move = (\r\n  from: Turl,\r\n  to: Turl,\r\n  base: Turl,\r\n  index: number,\r\n  active_urls: Turl[],\r\n) => {\r\n  base.push('children');\r\n  let temp: any[];\r\n  for (\r\n    let j = Number(from[from.length - 1]);\r\n    j <= Number(to[to.length - 1]);\r\n    j++\r\n  ) {\r\n    temp = [...base, j];\r\n    active_urls.push(temp);\r\n  }\r\n};\r\n\r\n// Очистка от повторящихся url\r\nexport const clear_repeat_url = (active_url: Turl[]) => {\r\n  let cp_active_url = active_url.map((item: Turl) => item.join(','));\r\n  let uniqueArray = cp_active_url.filter(function (item, pos) {\r\n    return cp_active_url.indexOf(item) === pos;\r\n  });\r\n\r\n  let res = uniqueArray.map((item: string) => item.split(','));\r\n\r\n  res.forEach((item: Turl) => {\r\n    for (let i = 0; i < item.length; i++) {\r\n      if (!isNaN(+item[i])) {\r\n        item[i] = Number(item[i]);\r\n      }\r\n    }\r\n  });\r\n\r\n  return res;\r\n};\r\n\r\n// Удалить опрделенные адреса\r\nexport const delete_active = (url: Turl, active_url: Turl[]) => {\r\n  let indexs: number[] = [];\r\n  let cp_active_url = active_url.map((item: Turl) => item.slice());\r\n\r\n  active_url.forEach((item: Turl, i: number) => {\r\n    if (Helper.arr_equal(item, url)) indexs.push(i);\r\n  });\r\n\r\n  Helper.sort_num(indexs);\r\n\r\n  indexs.forEach((item: number) => {\r\n    cp_active_url.splice(item, 1);\r\n  });\r\n\r\n  return cp_active_url;\r\n};\r\n\r\n// При зажатии shift\r\nexport const active_url_shift = (arr1: Turl, arr2: Turl) => (dom: any) => {\r\n  let from: Turl = [];\r\n  let to: Turl = [];\r\n  let comparison = url_comparison(arr1, arr2);\r\n\r\n  if (comparison === 2) {\r\n    from = [...arr1];\r\n    to = [...arr2];\r\n  } else if (comparison === 1) {\r\n    from = [...arr2];\r\n    to = [...arr1];\r\n  }\r\n\r\n  let index = getIndexDivergency(from, to);\r\n\r\n  if (index > -1) {\r\n    let active_urls: Turl[] = [];\r\n    let base: Turl = [...from.slice(0, index - 1)];\r\n\r\n    if (from.length < to.length && index === from.length - 1) {\r\n      down_move(from, to, base, index, active_urls);\r\n    } else if (from.length > to.length && index === to.length - 1) {\r\n      up_move(from, to, base, index, active_urls, dom);\r\n    } else if (index === to.length - 1 && index === from.length - 1) {\r\n      children_move(from, to, base, index, active_urls);\r\n    } else {\r\n      cx_move(from, to, index, active_urls, dom);\r\n    }\r\n\r\n    return active_urls;\r\n  }\r\n\r\n  return [];\r\n};\r\n\r\n// проверка url адресов только по иерархии\r\nfunction url_comparison_hierarchy(\r\n  active: any[],\r\n  to: any[],\r\n  position: string,\r\n): number {\r\n  let l = active.length > to.length ? to.length : active.length;\r\n\r\n  if (active.length === to.length) return 0;\r\n\r\n  for (let i = 0; i < l; i++) {\r\n    if (active[i] !== to[i]) return 0;\r\n  }\r\n\r\n  return 1;\r\n}\r\n\r\n// простое сравнение url\r\nexport function url_comparison(active: any[], to: any[]): number {\r\n  let l = active.length > to.length ? to.length : active.length;\r\n\r\n  for (let i = 0; i < l; i++) {\r\n    if (!isNaN(active[i]) && !isNaN(to[i])) {\r\n      if (active[i] > to[i]) {\r\n        return 1;\r\n      } else if (active[i] < to[i]) {\r\n        return 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  return l !== active.length ? 1 : 2;\r\n}\r\n","import { ThemeAction, ThemeStore } from './interfaces';\r\nimport { fromJS } from 'immutable';\r\nimport dom from '../data/dom';\r\n\r\nexport const InitialState: ThemeStore = {\r\n  dom: fromJS(dom),\r\n  dnd: false,\r\n  move: false,\r\n  active_url: [],\r\n  to: false,\r\n  saved_items: [],\r\n  mode_save: false,\r\n  count_items: 0,\r\n};\r\n\r\nconst reducer = (state: any = InitialState, action: ThemeAction) => {\r\n  switch (action.type) {\r\n    case 'CHANGE_STORE': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_DND': {\r\n      return {\r\n        ...state,\r\n        dnd: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_MODE_SAVE': {\r\n      return {\r\n        ...state,\r\n        mode_save: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_COUNT_ITEMS': {\r\n      return {\r\n        ...state,\r\n        count_items: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_MOVE': {\r\n      return {\r\n        ...state,\r\n        move: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_SAVED_ITEMS': {\r\n      return {\r\n        ...state,\r\n        saved_items: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_TO': {\r\n      return {\r\n        ...state,\r\n        to: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_DOM': {\r\n      return {\r\n        ...state,\r\n        dom: action.payload,\r\n      };\r\n    }\r\n    case 'CHANGE_ACTIVE': {\r\n      return {\r\n        ...state,\r\n        active_url: action.payload,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from 'redux';\nimport reducer from './reducer';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","import { Turl, Tto } from '../../redux/interfaces';\r\n\r\n// Simple actions\r\nexport const change_saved_items = (items: any[]) => {\r\n  return {\r\n    type: 'CHANGE_SAVED_ITEMS',\r\n    payload: items,\r\n  };\r\n};\r\nexport const change_store = (obj: any) => {\r\n  return {\r\n    type: 'CHANGE_STORE',\r\n    payload: obj,\r\n  };\r\n};\r\nexport const change_to = (url: Tto) => {\r\n  return {\r\n    type: 'CHANGE_TO',\r\n    payload: url,\r\n  };\r\n};\r\nexport const change_mode_save = (bool: boolean) => {\r\n  return {\r\n    type: 'CHANGE_MODE_SAVE',\r\n    payload: bool,\r\n  };\r\n};\r\nexport const change_count_items = (num: number) => {\r\n  return {\r\n    type: 'CHANGE_COUNT_ITEMS',\r\n    payload: num,\r\n  };\r\n};\r\n\r\nexport const change_active = (active_url: Turl[]) => {\r\n  return {\r\n    type: 'CHANGE_ACTIVE',\r\n    payload: active_url,\r\n  };\r\n};\r\n\r\nexport const change_dnd = (bool: boolean) => {\r\n  return {\r\n    type: 'CHANGE_DND',\r\n    payload: bool,\r\n  };\r\n};\r\nexport const change_move = (bool: boolean) => {\r\n  return {\r\n    type: 'CHANGE_MOVE',\r\n    payload: bool,\r\n  };\r\n};\r\n\r\nexport const change_dom = (dom: any) => {\r\n  return {\r\n    type: 'CHANGE_DOM',\r\n    payload: dom,\r\n  };\r\n};\r\n","import { fromJS, Map } from 'immutable';\r\nimport * as Data from '../../data/dom_functions';\r\nimport * as Helper from '../../helper/helper';\r\nimport { not_close_tags } from '../../data/dom';\r\nimport { ThemeStore, Turl } from '../../redux/interfaces';\r\nimport store from '../../redux/store';\r\nimport * as Clear from './clear_actions';\r\n\r\n// @ts-ignore\r\nimport hotkeys from 'kai-hotkeys';\r\nvar VNode = require('virtual-dom/vnode/vnode');\r\nvar VText = require('virtual-dom/vnode/vtext');\r\n\r\nvar convertHTML = require('html-to-vdom')({\r\n  VNode: VNode,\r\n  VText: VText,\r\n});\r\n\r\n// Hotkeys\r\nlet hotkeys_object = {\r\n  ctrl: false,\r\n  shift: false,\r\n};\r\n\r\ndocument.addEventListener('keydown', (e: any) => {\r\n  if (e.keyCode === 17) {\r\n    hotkeys_object.ctrl = true;\r\n  }\r\n  if (e.keyCode === 16) {\r\n    hotkeys_object.shift = true;\r\n  }\r\n});\r\n\r\ndocument.addEventListener('keyup', (e: any) => {\r\n  if (e.keyCode === 17) {\r\n    hotkeys_object.ctrl = false;\r\n  }\r\n  if (e.keyCode === 16) {\r\n    hotkeys_object.shift = false;\r\n  }\r\n});\r\n\r\nhotkeys.add(\r\n  'ctrl+c',\r\n  (e: any, handler: any) => {\r\n    e.preventDefault();\r\n\r\n    cx_change_saved_items(store.dispatch, store.getState);\r\n  },\r\n  { oncePressing: true },\r\n);\r\n\r\nhotkeys.add(\r\n  'ctrl+v',\r\n  (e: any, handler: any) => {\r\n    e.preventDefault();\r\n\r\n    cx_insertion_elements(store.dispatch, store.getState);\r\n  },\r\n  { oncePressing: true },\r\n);\r\nhotkeys.add(\r\n  'delete',\r\n  (e: any, handler: any) => {\r\n    e.preventDefault();\r\n\r\n    cx_delete_elements(store.dispatch, store.getState);\r\n  },\r\n  { oncePressing: true },\r\n);\r\n\r\n// Удаление елементов\r\nexport const cx_delete_elements = (dispatch: any, getState: any) => {\r\n  let { active_url, dom } = getState();\r\n\r\n  let { nw_dom } = Data.delete_elements(dom, active_url);\r\n\r\n  dispatch(Clear.change_store({ dom: nw_dom, active_url: [] }));\r\n};\r\n\r\n// Вставка елементов\r\nexport const cx_insertion_elements = (dispatch: any, getState: any) => {\r\n  let { active_url, dom, saved_items } = getState();\r\n\r\n  let { nw_dom, active_url2 } = Data.clone_bottom_elements(\r\n    saved_items,\r\n    dom,\r\n    active_url,\r\n  );\r\n\r\n  dispatch(Clear.change_store({ dom: nw_dom, active_url: active_url2 }));\r\n};\r\n\r\n// Оповещает о сохранении елементов\r\nexport const cx_change_saved_items = (dispatch: any, getState: any) => {\r\n  let { active_url, dom } = getState();\r\n  let save_arr: any[] = [];\r\n  let elem: any;\r\n\r\n  active_url.forEach((item: any[]) => {\r\n    elem = dom.getIn(item);\r\n    if (elem) save_arr.push(elem);\r\n  });\r\n\r\n  dispatch(Clear.change_saved_items(save_arr));\r\n};\r\n\r\n// Удяляет вложенные активные адреса\r\nconst delete_nested_active_url = (active_url: Turl[]): Turl[] => {\r\n  let bool = false;\r\n  let arr1: any = [];\r\n  let copy = active_url.map((item: any[]) => [...item]);\r\n  let arr_indexs: number[] = [];\r\n\r\n  for (let i = 0; i < copy.length; i++) {\r\n    for (let j = 0; j < copy.length; j++) {\r\n      if (i !== j) {\r\n        if (copy[i].length > copy[j].length) {\r\n          arr1 = copy[j];\r\n          bool = arr1.every((item: any, num: number) => item === copy[i][num]);\r\n          if (bool) {\r\n            arr_indexs.push(i);\r\n          }\r\n        } else {\r\n          arr1 = copy[i];\r\n          bool = arr1.every((item: any, num: number) => item === copy[j][num]);\r\n          if (bool) {\r\n            arr_indexs.push(j);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let uniqueArray = arr_indexs.filter(function (item, pos) {\r\n    return arr_indexs.indexOf(item) === pos;\r\n  });\r\n\r\n  uniqueArray.sort(function (a: number, b: number) {\r\n    return b - a;\r\n  });\r\n\r\n  uniqueArray.forEach((num: number) => {\r\n    copy.splice(num, 1);\r\n  });\r\n  return copy;\r\n};\r\n\r\n// при отжатии мышки над активными елементами\r\nexport const cx_active_mouseup = (url: Turl) => (\r\n  dispatch: any,\r\n  getState: any,\r\n) => {\r\n  let { active_url } = getState();\r\n\r\n  if (active_url.length > 1) {\r\n    if (!hotkeys_object.ctrl && !hotkeys_object.shift) {\r\n      dispatch(Clear.change_active([url]));\r\n    }\r\n  }\r\n};\r\n\r\n// при клике миши над Layer\r\nexport const cx_change_active = (url: Turl) => (\r\n  dispatch: any,\r\n  getState: any,\r\n) => {\r\n  let { active_url, dom } = getState();\r\n  let copy_active_url = active_url.map((item: any[]) => [...item]);\r\n\r\n  if (hotkeys_object.ctrl) {\r\n    let index = -1;\r\n    active_url.forEach((item: any, i: number) => {\r\n      if (Helper.arr_equal(item, url)) {\r\n        index = i;\r\n      }\r\n    });\r\n    if (index !== -1) {\r\n      copy_active_url.splice(index, 1);\r\n    } else {\r\n      copy_active_url.push(url);\r\n    }\r\n\r\n    dispatch(\r\n      Clear.change_active(\r\n        delete_nested_active_url(Data.clear_repeat_url(copy_active_url)),\r\n      ),\r\n    );\r\n  } else if (hotkeys_object.shift) {\r\n    let arr1 = active_url[active_url.length - 1].slice();\r\n    let arr2 = [...url];\r\n\r\n    let active_urls = Data.active_url_shift(arr1, arr2)(dom);\r\n    if (active_urls.length > 0) {\r\n      active_urls.forEach((active: Turl) => {\r\n        copy_active_url.push(active);\r\n      });\r\n\r\n      dispatch(Clear.change_active(Data.clear_repeat_url(copy_active_url)));\r\n    }\r\n  } else {\r\n    let bool = false;\r\n    active_url.forEach((item: any[]) => {\r\n      if (Helper.arr_equal(item, url)) bool = true;\r\n    });\r\n    if (!bool) dispatch(Clear.change_active([url]));\r\n  }\r\n};\r\n\r\n// -----------------Complicated actions\r\n\r\n// После того как активный елемент переместился this.Components\r\nexport const cx_move_items = (...data: any[]) => (\r\n  dispatch: any,\r\n  getState: () => ThemeStore,\r\n) => {\r\n  let { dom, active_url } = getState();\r\n  let to = getState().to;\r\n\r\n  if (data[0]) {\r\n    to = data[0];\r\n  }\r\n\r\n  let index = -1;\r\n\r\n  let a: any;\r\n  if (to instanceof Object && to) {\r\n    // ** Если в активных елементах лежит адрес to, то мы удаляем его из active_url\r\n    active_url.forEach((item: any[], i: number) => {\r\n      if (to instanceof Object && Helper.arr_equal(item, to.to)) {\r\n        index = i;\r\n      }\r\n    });\r\n\r\n    let copy_active_url = active_url.map((item) => item.slice());\r\n\r\n    if (index > -1) {\r\n      copy_active_url.splice(index, 1);\r\n    }\r\n    // ** <---Если в активных елементах лежит адрес to, то мы удаляем его из active_url\r\n\r\n    a = cxr_move_items(to.to, to.position)(dom, active_url);\r\n\r\n    let obj = {\r\n      dom: a.nw_dom,\r\n      to: false,\r\n      dnd: false,\r\n      active_url: a.active_url,\r\n    };\r\n    dispatch(Clear.change_store(obj));\r\n  }\r\n};\r\n\r\n// Обновление dom елемента в state.dom\r\nexport const cx_update_dom = (\r\n  url: Turl,\r\n  func: (item: any, url: Turl) => any,\r\n) => (dispatch: any, getState: () => ThemeStore) => {\r\n  let { dom } = getState();\r\n\r\n  if (dom.getIn(url)) {\r\n    let item = dom.getIn(url).toJS();\r\n    let nw_item = func(item, url);\r\n    let nw_dom = dom.updateIn(url, (value: any) => fromJS(nw_item));\r\n\r\n    dispatch(Clear.change_dom(nw_dom));\r\n  }\r\n};\r\n\r\n// Изменение visible\r\nexport const change_visible = (url: Turl, value: boolean) => (\r\n  dispatch: any,\r\n  getState: () => ThemeStore,\r\n) => {\r\n  let { dom } = getState();\r\n  let nw_dom = dom.updateIn([...url, 'visible'], (a: boolean) => value);\r\n  dispatch(Clear.change_dom(nw_dom));\r\n};\r\n\r\n// Изменение label\r\nexport const change_item = (url: Turl, label: string) => (dispatch: any) => {\r\n  var vdom = convertHTML(label);\r\n  let attrs: any = {};\r\n  if (vdom.properties) {\r\n    for (let key in vdom.properties) {\r\n      if (key === 'attributes') {\r\n        for (let key2 in vdom.properties[key]) {\r\n          attrs[key2] = vdom.properties[key][key2];\r\n        }\r\n      } else {\r\n        attrs[key] = vdom.properties[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  function func(item: any, url: Turl) {\r\n    let obj: any = {};\r\n    let props: any = {\r\n      open: item.open,\r\n      visible: item.visible,\r\n      id: item.id,\r\n    };\r\n    if (item.onlyText) props['onlyText'] = item.onlyText;\r\n    if (item.children) props['children'] = item.children;\r\n\r\n    if (vdom.tagName) {\r\n      obj['tag'] = vdom.tagName;\r\n\r\n      let bool_close_tag = not_close_tags.some((item) => item === obj['tag']);\r\n\r\n      if (item.children === undefined && !bool_close_tag && !item.onlyText) {\r\n        props['children'] = [];\r\n      } else if (item.children && bool_close_tag) {\r\n        delete props['children'];\r\n      }\r\n      if (vdom.children && !bool_close_tag) {\r\n        if (vdom.children[0]) {\r\n          if (vdom.children[0].text) {\r\n            obj['textContent'] = vdom.children[0].text;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      delete props['children'];\r\n      if (vdom.text) obj['textContent'] = vdom.text;\r\n    }\r\n    obj['attributes'] = attrs;\r\n\r\n    return { ...props, ...obj };\r\n  }\r\n\r\n  dispatch(cx_update_dom(url, func));\r\n};\r\n\r\n// Изменение open\r\nexport const change_open = (url: Turl, value: boolean) => (\r\n  dispatch: any,\r\n  getState: () => ThemeStore,\r\n) => {\r\n  let { dom } = getState();\r\n  let nw_dom = dom.updateIn([...url, 'open'], (a: boolean) => value);\r\n  dispatch(Clear.change_dom(nw_dom));\r\n};\r\n\r\n// при отжатии мишки на Layer\r\nexport const cx_handle_mouseup_layer = (url: Turl, position: string) => (\r\n  dispatch: any,\r\n  getState: () => ThemeStore,\r\n) => {\r\n  let { dom, active_url } = getState();\r\n  let elem = dom.getIn(url);\r\n  let open = elem.get('open');\r\n  let children = elem.get('children');\r\n  let b = true;\r\n\r\n  if (active_url.length === 1) {\r\n    if (Helper.arr_equal(active_url[0], url)) {\r\n      b = false;\r\n    }\r\n  }\r\n  if (b) {\r\n    let data_to = {\r\n      position: position === 'center' ? 'top' : position,\r\n      to: position === 'center' ? [...url, 'children', 0] : url,\r\n    };\r\n    if (position === 'center') {\r\n      if (children && open) {\r\n        dispatch(Clear.change_to(data_to));\r\n        dispatch(cx_move_items());\r\n      } else if (children && !open) {\r\n        dispatch(cx_move_items(data_to));\r\n      }\r\n    } else {\r\n      dispatch(Clear.change_to(data_to));\r\n      dispatch(cx_move_items());\r\n    }\r\n  }\r\n  if (!b) dispatch(Clear.change_dnd(false));\r\n};\r\n\r\nexport const cxr_move_items = (url: Turl, position: string) => (\r\n  dom: any,\r\n  active_url: Turl[],\r\n) => {\r\n  let obj: any = {};\r\n  let copy_url = [...url];\r\n  let to_url = [...url];\r\n  let nw_dom = dom;\r\n\r\n  let mas_pos = ['top', 'bottom'];\r\n\r\n  // Копия активных елементов\r\n  let actvs = active_url.map((item: any[]) => {\r\n    return [...item];\r\n  });\r\n\r\n  // Если мы перемещаем елементы в елемент, который имеет только textContent\r\n  // Создаем елемент без тега, но с textContent\r\n  copy_url.pop();\r\n  copy_url.pop();\r\n  let to_elem = dom.getIn(copy_url);\r\n  if (to_elem) {\r\n    if (\r\n      to_elem.get('children').size === 0 &&\r\n      to_elem.has('textContent') &&\r\n      !to_elem.get('open')\r\n    ) {\r\n      if (position === 'top' && to_url[to_url.length - 1] === 0) {\r\n        to_url[to_url.length - 1] = 1;\r\n\r\n        let textcontent_obj = {\r\n          open: false,\r\n          visible: true,\r\n          id: `${Math.random()} ${[...copy_url, 'children', 0].join('-')}`,\r\n          textContent: to_elem.get('textContent'),\r\n        };\r\n        nw_dom = nw_dom.setIn([...copy_url, 'open'], true);\r\n        nw_dom = nw_dom.deleteIn([...copy_url, 'textContent']);\r\n        nw_dom = nw_dom.setIn(\r\n          [...copy_url, 'children', 0],\r\n          Map(textcontent_obj),\r\n        );\r\n      }\r\n    } else if (to_elem.get('children') && !to_elem.get('open')) {\r\n      nw_dom = nw_dom.setIn([...copy_url, 'open'], true);\r\n    }\r\n  }\r\n  // </ Создаем елемент без тега, но с textContent >\r\n\r\n  mas_pos.forEach((name: string) => {\r\n    if (name === position) {\r\n      // @ts-ignore\r\n      obj = Data.InsertElement[name](to_url, nw_dom, actvs);\r\n    }\r\n  });\r\n\r\n  return {\r\n    nw_dom: obj.nw_dom,\r\n    active_url: obj.active_url2,\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport Editor from 'react-simple-code-editor';\r\nimport Prism from 'prismjs';\r\n// @ts-ignore\r\nimport { highlight } from 'prismjs/components/prism-core';\r\n\r\ninterface ILabel {\r\n  label: string;\r\n  edit: boolean;\r\n  changeLabel: (label: string) => void;\r\n}\r\ninterface IState {\r\n  label: string;\r\n}\r\n\r\nclass Label extends Component<ILabel> {\r\n  constructor(props: ILabel) {\r\n    super(props);\r\n\r\n    this.handleChangeLabel = this.handleChangeLabel.bind(this);\r\n  }\r\n  state = {\r\n    label: this.props.label,\r\n  };\r\n\r\n  handleChangeLabel(label: string) {\r\n    this.setState({ label });\r\n    this.props.changeLabel(label);\r\n  }\r\n  componentDidUpdate(prevProps: ILabel, prevState: IState) {\r\n    let label = this.props.label;\r\n    if (prevProps.label !== label) {\r\n      this.setState({ label });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"label\">\r\n        <Editor\r\n          value={this.state.label}\r\n          onValueChange={(code) => this.handleChangeLabel(code)}\r\n          highlight={(code) => highlight(code, Prism.languages.html)}\r\n          padding={10}\r\n          style={{\r\n            fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\r\n            fontSize: 14,\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Label;\r\n","import React, { Component, createRef } from 'react';\r\n\r\ninterface ISeparator {\r\n  position: string;\r\n  TrackMouseUp: (pos: string) => void;\r\n  height_before: number;\r\n  height_after: number;\r\n}\r\n\r\nclass Separator extends Component<ISeparator> {\r\n  separatorRef: any = createRef();\r\n  componentDidMount() {\r\n    let elem = this.separatorRef.current;\r\n\r\n    elem.onmouseup = (e: any) => {\r\n      e.stopPropagation();\r\n      this.props.TrackMouseUp(this.props.position);\r\n    };\r\n  }\r\n  render() {\r\n    let classes = 'track ' + this.props.position;\r\n    let styleBefore = {\r\n      height: this.props.height_before + 'px',\r\n    };\r\n    let styleAfter = {\r\n      height: this.props.height_after + 'px',\r\n    };\r\n    return (\r\n      <div className={classes} ref={this.separatorRef}>\r\n        <div className=\"before\" style={styleBefore}></div>\r\n        <div className=\"after\" style={styleAfter}></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Separator;\r\n","import React, { Component, createRef } from 'react';\r\nimport { Turl } from '../../redux/interfaces';\r\nimport { connect } from 'react-redux';\r\nimport * as Action from '../../redux/actions/actions';\r\nimport Separator from './Separator';\r\n\r\ninterface ILayerDnd {\r\n  last?: boolean;\r\n  parent?: boolean;\r\n  url: Turl;\r\n  top: boolean;\r\n  bottom: boolean;\r\n  type: string;\r\n}\r\n\r\ninterface IDispatch {\r\n  cx_handle_mouseup_layer: (url: any[], position: string) => void;\r\n}\r\n\r\ntype Props = ILayerDnd & IDispatch;\r\n\r\nclass LayerDnd extends Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.TrackMouseUp = this.TrackMouseUp.bind(this);\r\n    this.handleMouseOver = this.handleMouseOver.bind(this);\r\n    this.handleMouseOut = this.handleMouseOut.bind(this);\r\n  }\r\n  height_beforeTop: number = 0;\r\n  height_afterTop: number = 0;\r\n  height_beforeBottom: number = 0;\r\n  height_afterBottom: number = 0;\r\n\r\n  labelRef: any = createRef();\r\n\r\n  componentDidMount() {\r\n    this.updateLabelOptions(this.props);\r\n    this.forceUpdate();\r\n\r\n    let elem = this.labelRef.current;\r\n    elem.onmouseup = (e: any) => {\r\n      e.stopPropagation();\r\n      this.props.cx_handle_mouseup_layer(this.props.url, 'center');\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: Props) {\r\n    this.updateLabelOptions(nextProps);\r\n    return true;\r\n  }\r\n\r\n  TrackMouseUp(position: string) {\r\n    this.props.cx_handle_mouseup_layer(this.props.url, position);\r\n  }\r\n  handleMouseOver(e: any) {\r\n    let id = e.target.getAttribute('id');\r\n\r\n    if (id === 'layer_overlay') {\r\n      e.target.classList.add('active');\r\n    }\r\n  }\r\n  handleMouseOut(e: any) {\r\n    let id = e.target.getAttribute('id');\r\n\r\n    if (id === 'layer_overlay') {\r\n      e.target.classList.remove('active');\r\n    }\r\n  }\r\n\r\n  getHeight(height: number) {\r\n    return +Number(height / 3.16).toFixed(2);\r\n  }\r\n\r\n  updateLabelOptions(props: Props) {\r\n    let elem = this.labelRef.current;\r\n\r\n    let { type, bottom } = this.props;\r\n    // @ts-ignore\r\n    let li = elem.parentNode.parentNode.parentNode;\r\n    let height = elem.offsetHeight;\r\n    let bedoreHeight = 12;\r\n    let res_height = +Number(height / 3.16).toFixed(2);\r\n\r\n    if (li.previousSibling !== null) {\r\n      let prev_li = li.previousSibling;\r\n\r\n      if (prev_li.classList.contains('sub_dom'))\r\n        prev_li = prev_li.previousSibling;\r\n\r\n      let prev_height = prev_li.offsetHeight;\r\n\r\n      let prev_parent = prev_li.classList.contains('parent');\r\n\r\n      if (prev_parent) {\r\n        bedoreHeight = this.getHeight(prev_height);\r\n      } else {\r\n        bedoreHeight = prev_height / 2;\r\n      }\r\n    } else {\r\n      let sub = li.parentNode;\r\n      if (sub.previousSibling) {\r\n        if (sub.previousSibling.tagName === 'LI') {\r\n          bedoreHeight = this.getHeight(sub.previousSibling.offsetHeight);\r\n        }\r\n      } else bedoreHeight = 0;\r\n    }\r\n\r\n    if (type === 'parent') {\r\n      // Top Before\r\n\r\n      this.height_beforeTop = bedoreHeight;\r\n\r\n      // Top after\r\n      this.height_afterTop = res_height;\r\n\r\n      // Bottom\r\n      if (bottom) {\r\n        this.height_beforeBottom = this.height_afterTop;\r\n        this.height_afterBottom = 12;\r\n      }\r\n    }\r\n\r\n    if (type === 'simple') {\r\n      // Top before\r\n\r\n      this.height_beforeTop = bedoreHeight;\r\n\r\n      // Top after\r\n      if (this.props.parent) {\r\n        this.height_afterTop = res_height;\r\n      } else {\r\n        this.height_afterTop = height / 2;\r\n      }\r\n\r\n      // Bottom\r\n      if (bottom) {\r\n        if (this.props.parent) {\r\n          this.height_beforeBottom = res_height;\r\n        } else {\r\n          this.height_beforeBottom = height / 2;\r\n        }\r\n        this.height_afterBottom = 12;\r\n      }\r\n    }\r\n\r\n    if (type === 'close') {\r\n      // Bottom\r\n      if (bottom) {\r\n        this.height_beforeBottom = 12;\r\n\r\n        this.height_afterBottom = 12;\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    let top_separator: any = (\r\n      <Separator\r\n        height_before={this.height_beforeTop}\r\n        height_after={this.height_afterTop}\r\n        key=\"top\"\r\n        position=\"top\"\r\n        TrackMouseUp={this.TrackMouseUp}\r\n      />\r\n    );\r\n    let bottom_separator: any = (\r\n      <Separator\r\n        height_before={this.height_beforeBottom}\r\n        height_after={this.height_afterBottom}\r\n        key=\"bottom\"\r\n        position=\"bottom\"\r\n        TrackMouseUp={this.TrackMouseUp}\r\n      />\r\n    );\r\n\r\n    if (!this.props.top) top_separator = null;\r\n    if (!this.props.bottom) bottom_separator = null;\r\n\r\n    let zIndex = this.props.url.length * 2;\r\n    let style = {\r\n      zIndex,\r\n    };\r\n\r\n    let overlayProps: any = {\r\n      onMouseOver: this.handleMouseOver,\r\n      onMouseOut: this.handleMouseOut,\r\n    };\r\n    if (this.props.type === 'close') overlayProps = {};\r\n    return (\r\n      <div\r\n        className=\"layer_overlay\"\r\n        id=\"layer_overlay\"\r\n        style={style}\r\n        // @ts-ignore\r\n        ref={this.labelRef}\r\n        {...overlayProps}\r\n      >\r\n        {top_separator}\r\n        {bottom_separator}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  cx_handle_mouseup_layer: Action.cx_handle_mouseup_layer,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LayerDnd);\r\n","import React, { Component, createRef } from 'react';\r\nimport { not_close_tags } from '../../data/dom';\r\nimport arrow_src from '../../assets/svg/arrow_dom.svg';\r\nimport view_src from '../../assets/svg/view.svg';\r\nimport not_eye_src from '../../assets/svg/not_eye.svg';\r\nimport inherit_unvisible_src from '../../assets/svg/inherit_unvisible.svg';\r\nimport classnames from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport { ThemeStore, Turl } from '../../redux/interfaces';\r\nimport * as Action from '../../redux/actions/actions';\r\nimport * as Clear from '../../redux/actions/clear_actions';\r\nimport * as Helper from '../../helper/helper';\r\nimport Label from './Label';\r\nimport LayerDnd from './LayerDnd';\r\n\r\nexport interface ILayer {\r\n  childs_unvisible: boolean;\r\n  parent: boolean;\r\n  changeVisible: (bool: boolean) => void;\r\n  changeOpen: (bool: boolean) => void;\r\n  url: Turl;\r\n  last?: boolean;\r\n}\r\n\r\ninterface StateProps {\r\n  active: boolean;\r\n  item: any;\r\n  dnd: boolean;\r\n}\r\n\r\ninterface DispatchProps {\r\n  change_active: (mas: Turl) => void;\r\n  cl_change_active: (mas: Turl[]) => void;\r\n  change_visible: (mas: any, value: boolean) => void;\r\n  change_item: (url: Turl, label: string) => void;\r\n  change_dnd: (bool: boolean) => void;\r\n  change_open: (mas: any, value: boolean) => void;\r\n  cx_handle_mouseup_layer: (url: any[], position: string) => void;\r\n  cx_active_mouseup: (url: Turl) => void;\r\n}\r\n\r\ntype Props = ILayer & StateProps & DispatchProps;\r\n\r\nconst styleOpenArrow = {\r\n  transform: 'rotate(90deg)',\r\n};\r\n\r\ninterface IState {\r\n  edit: boolean;\r\n  active: boolean;\r\n  open: boolean;\r\n  visible: boolean;\r\n  dnd: boolean;\r\n  hover: boolean;\r\n  position: string;\r\n}\r\n\r\nclass Layer extends Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.changeOpen = this.changeOpen.bind(this);\r\n    this.changeVisible = this.changeVisible.bind(this);\r\n    this.changeActive = this.changeActive.bind(this);\r\n    this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    this.handleMouseUp = this.handleMouseUp.bind(this);\r\n    this.docmousedown = this.docmousedown.bind(this);\r\n    this.changeLabel = this.changeLabel.bind(this);\r\n    this.mouseUpSeparator = this.mouseUpSeparator.bind(this);\r\n  }\r\n  // State\r\n  state: IState = {\r\n    edit: false,\r\n    active: false,\r\n    open: this.props.item.open,\r\n    visible: this.props.item.visible,\r\n    dnd: this.props.dnd,\r\n    position: '',\r\n    hover: false,\r\n  };\r\n\r\n  // own options\r\n  arrow: any = null;\r\n  view: any = null;\r\n  classnames: string = '';\r\n  label: string = '';\r\n  style: any = {};\r\n  labelRef: any = createRef();\r\n  layerDnd: any = null;\r\n\r\n  componentDidMount() {\r\n    let { active } = this.props;\r\n    if (this.state.active !== active) {\r\n      this.setState({ active });\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.conversion(this.props, this.state);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: Props, nextState: IState) {\r\n    let bool = false;\r\n    let b = true;\r\n\r\n    this.conversion(nextProps, nextState);\r\n\r\n    if (props_equal(this.props, nextProps)) {\r\n      if (state_equal(this.state, nextState)) b = false;\r\n    }\r\n\r\n    if (!b) {\r\n      return false;\r\n    }\r\n\r\n    let { active, childs_unvisible, item } = nextProps;\r\n\r\n    if (this.props.active !== active) {\r\n      this.setState({ active });\r\n    }\r\n\r\n    if (item) {\r\n      this.conversion(nextProps, nextState);\r\n      if (!item_equal(this.props.item, item)) {\r\n        bool = true;\r\n        let state_obj: any = {};\r\n\r\n        if (item.visible !== nextState.visible) {\r\n          this.props.changeVisible(item.visible);\r\n          state_obj['visible'] = item.visible;\r\n        }\r\n\r\n        if (item.open !== nextState.open) {\r\n          this.props.changeOpen(item.open);\r\n          state_obj['open'] = item.open;\r\n        }\r\n        if (\r\n          state_obj['visible'] !== undefined ||\r\n          state_obj['open'] !== undefined\r\n        ) {\r\n          bool = false;\r\n          this.setState(state_obj);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.dnd !== nextProps.dnd) {\r\n      this.zeroing_functions();\r\n      this.setState({ dnd: nextProps.dnd });\r\n    }\r\n\r\n    if (this.state !== nextState) {\r\n      this.conversion(nextProps, nextState);\r\n      bool = true;\r\n    }\r\n\r\n    if (this.props.childs_unvisible !== childs_unvisible) {\r\n      this.conversion(nextProps, nextState);\r\n      bool = true;\r\n    }\r\n\r\n    return bool;\r\n  }\r\n\r\n  changeLabel(label: string) {\r\n    this.label = label;\r\n  }\r\n\r\n  handleMouseUp() {\r\n    this.props.cx_handle_mouseup_layer(this.props.url, this.state.position);\r\n  }\r\n\r\n  conversion(props: Props, state: IState) {\r\n    let { item, childs_unvisible, parent, url, dnd } = props;\r\n    let { edit, active, open, visible, position, hover } = state;\r\n\r\n    let arr_pl = url.filter((item) => item === 'children');\r\n\r\n    let pl = (arr_pl.length - 1) * 10;\r\n\r\n    let { attributes, tag, textContent, children_size } = item;\r\n\r\n    // Arrow\r\n    let arrow = (\r\n      <div className=\"arrow_wrap\" onMouseDown={this.changeOpen}>\r\n        <div className=\"arrow\">\r\n          <img src={arrow_src} style={open ? styleOpenArrow : {}} alt=\"Arrow\" />\r\n        </div>\r\n      </div>\r\n    );\r\n    this.arrow = parent && children_size !== 0 ? arrow : null;\r\n\r\n    // View\r\n    let view = visible\r\n      ? childs_unvisible\r\n        ? inherit_unvisible_src\r\n        : view_src\r\n      : not_eye_src;\r\n\r\n    this.view = <img src={view} alt=\"visible\" />;\r\n\r\n    // Classnames\r\n    this.classnames = classnames({\r\n      visible: visible,\r\n      unvisible: !visible,\r\n      childs_unvisible,\r\n      edit,\r\n      active,\r\n      dnd,\r\n      center: hover && position === 'center' ? true : false,\r\n      parent,\r\n\r\n      'no-hover': hover,\r\n    });\r\n    this.classnames += ' ' + props.url.join('-');\r\n\r\n    // Label\r\n    // -----Attributes\r\n\r\n    if (item) {\r\n      let attrs = '';\r\n      if (attributes) {\r\n        for (let key in attributes) {\r\n          attrs += ' ' + key + '=\"' + attributes[key] + '\"';\r\n        }\r\n      }\r\n      // -----Tag\r\n      let label = '';\r\n      if (tag) {\r\n        let bool_close_tag = not_close_tags.some((item) => item === tag);\r\n        let close_tag = bool_close_tag ? '/>' : '>';\r\n\r\n        // Определяем открывающийся тег <div class=\"block\">\r\n        label = '<' + tag + attrs + close_tag;\r\n\r\n        // Есть ли есть textContent тег <div class=\"block\">Test\r\n        if (textContent) {\r\n          label += textContent;\r\n        }\r\n\r\n        // если закрыт и есть текст и это норм тег то <div class=\"block\">Test</div>\r\n        if (!open && textContent && !bool_close_tag) label += '</' + tag + '>';\r\n\r\n        // если закрыт и есть текст и это норм тег то <div class=\"block\">Test</div>\r\n        if (open && textContent && !bool_close_tag && children_size === 0)\r\n          label += '</' + tag + '>';\r\n\r\n        // если закрыт и нету текста и это норм тег и детей больше 0 то <div class=\"block\">...</div>\r\n        if (!open && !textContent && !bool_close_tag && children_size > 0)\r\n          label += `...</${tag}>`;\r\n\r\n        // нету текста и это норм тег и нету детей то <div class=\"block\">...</div>\r\n        if (!textContent && !bool_close_tag && children_size === 0)\r\n          label += `</${tag}>`;\r\n      } else {\r\n        if (textContent) label += textContent;\r\n      }\r\n\r\n      this.label = label;\r\n    }\r\n    // Margin-left\r\n    this.style = {\r\n      marginLeft: pl + 'px',\r\n    };\r\n\r\n    // for dnd\r\n    if (props.dnd) {\r\n      if (children_size > 0) {\r\n        let dnd_props = {\r\n          url,\r\n          type: 'parent',\r\n          top: true,\r\n          bottom: open === false && this.props.last ? true : false,\r\n        };\r\n        this.layerDnd = <LayerDnd {...dnd_props} />;\r\n      } else {\r\n        let dnd_props = {\r\n          url,\r\n          type: 'simple',\r\n          top: true,\r\n          bottom: this.props.last === true ? true : false,\r\n          parent,\r\n          last: this.props.last ? true : false,\r\n        };\r\n        this.layerDnd = <LayerDnd {...dnd_props} />;\r\n      }\r\n    } else {\r\n      this.layerDnd = null;\r\n    }\r\n  }\r\n\r\n  mouseUpSeparator(position: string) {\r\n    this.props.cx_handle_mouseup_layer(this.props.url, position);\r\n  }\r\n\r\n  changeOpen(e: any) {\r\n    Helper.pauseEvent(e);\r\n    let open = this.state.open ? false : true;\r\n    this.setState({ open });\r\n\r\n    this.props.changeOpen(open);\r\n    this.props.change_open(this.props.url, open);\r\n  }\r\n\r\n  zeroing_functions() {\r\n    let elem = this.labelRef.current;\r\n\r\n    elem.onmousemove = null;\r\n    elem.onmouseout = null;\r\n  }\r\n\r\n  changeVisible(e: any) {\r\n    Helper.pauseEvent(e);\r\n    let { visible } = this.state;\r\n    this.setState({ visible: !visible });\r\n    if (this.props.parent) this.props.changeVisible(!visible);\r\n    this.props.change_visible(this.props.url, !visible);\r\n  }\r\n\r\n  timer = setTimeout(() => {}, 500);\r\n\r\n  mousedowncount = 0;\r\n  handler: boolean = false;\r\n\r\n  changeActive(e: any) {\r\n    if (\r\n      !e.target.classList.contains('arrow_wrap') &&\r\n      !e.target.classList.contains('view_wrap') &&\r\n      e.target.tagName !== 'IMG'\r\n    ) {\r\n      this.setState({ active: true });\r\n      let { url } = this.props;\r\n      this.props.change_active(url);\r\n    }\r\n  }\r\n\r\n  docmousedown(e: any) {\r\n    if (e.target.tagName !== 'TEXTAREA') {\r\n      this.props.change_item(this.props.url, this.label);\r\n      this.setState({ edit: false });\r\n      this.mousedowncount = 0;\r\n      document.onmousedown = null;\r\n    }\r\n  }\r\n\r\n  handleMouseDown(e: any) {\r\n    let elem = this.labelRef.current;\r\n    if (!this.state.active) this.mousedowncount = 0;\r\n    this.mousedowncount++;\r\n\r\n    document.onselectstart = () => {\r\n      return false;\r\n    };\r\n\r\n    let b = true;\r\n    if (this.props.item.children_size > 1 && !this.state.open) b = false;\r\n\r\n    // Если это двойной клик\r\n    if (this.mousedowncount > 1 && b) {\r\n      clearTimeout(this.timer);\r\n      if (!this.state.edit) this.setState({ edit: true });\r\n\r\n      if (!this.handler) {\r\n        document.addEventListener('mousedown', this.docmousedown, true);\r\n        this.handler = true;\r\n      }\r\n    } else {\r\n      if (\r\n        !e.target.classList.contains('arrow_wrap') &&\r\n        !e.target.classList.contains('view_wrap') &&\r\n        e.target.tagName !== 'IMG'\r\n      ) {\r\n        this.setState({ active: true });\r\n        let { url } = this.props;\r\n\r\n        this.props.change_active(url);\r\n\r\n        this.timer = setTimeout(() => {\r\n          this.mousedowncount = 0;\r\n        }, 300);\r\n\r\n        if (this.handler) {\r\n          document.removeEventListener('mousedown', this.docmousedown, true);\r\n          this.handler = false;\r\n        }\r\n\r\n        elem.onmouseup = (c: any) => {\r\n          this.props.cx_active_mouseup(this.props.url);\r\n        };\r\n      }\r\n    }\r\n\r\n    let c = true;\r\n    if (c) {\r\n      elem.onmousemove = (m: any) => {\r\n        document.onselectstart = (z: any) => {\r\n          z.preventDefault();\r\n        };\r\n\r\n        elem.onmouseout = () => {\r\n          this.props.change_dnd(true);\r\n          c = false;\r\n        };\r\n      };\r\n\r\n      document.onmouseup = () => {\r\n        elem.onmousemove = null;\r\n        elem.onmouseout = null;\r\n        this.props.change_dnd(false);\r\n      };\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { view, classnames, label, style, arrow, changeVisible } = this;\r\n\r\n    return (\r\n      <li\r\n        className={classnames}\r\n        ref={this.labelRef}\r\n        onMouseDown={this.handleMouseDown}\r\n      >\r\n        <div className=\"opacity_wrap\">\r\n          <div className=\"layer_left\" style={style}>\r\n            <div className=\"layer_wrap\"></div>\r\n            {arrow}\r\n            <Label\r\n              label={label}\r\n              edit={this.state.edit}\r\n              changeLabel={this.changeLabel}\r\n            />\r\n            {this.layerDnd}\r\n          </div>\r\n        </div>\r\n        <div className=\"view_wrap\" onMouseDown={changeVisible}>\r\n          <div className=\"view\">{view}</div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  { active_url, dom, dnd }: ThemeStore,\r\n  ownProps: ILayer,\r\n) => {\r\n  let { url } = ownProps;\r\n  let item: any = false;\r\n  let active = false;\r\n  let elem = dom.getIn(url);\r\n\r\n  if (elem) {\r\n    item = elem.delete('children').toJS();\r\n    if (elem.has('children')) {\r\n      item.children_size = elem.get('children').size;\r\n    }\r\n\r\n    active_url.forEach((active_item: any[]) => {\r\n      if (ownProps.url.join(',') === active_item.join(',')) {\r\n        active = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    active,\r\n    dnd,\r\n    item,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  change_active: Action.cx_change_active,\r\n  cl_change_active: Clear.change_active,\r\n  change_visible: Action.change_visible,\r\n  change_item: Action.change_item,\r\n  change_open: Action.change_open,\r\n  change_dnd: Clear.change_dnd,\r\n  cx_handle_mouseup_layer: Action.cx_handle_mouseup_layer,\r\n  cx_active_mouseup: Action.cx_active_mouseup,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Layer);\r\n\r\n// Сравнение 2 item\r\nfunction item_equal(obj1: any, obj2: any) {\r\n  let arr1 = Object.entries(obj1);\r\n  let arr2 = Object.entries(obj2);\r\n\r\n  if (arr1.length !== arr2.length) return false;\r\n\r\n  for (let key in obj1) {\r\n    if (key === 'attributes') {\r\n      if (obj2[key] === undefined) return false;\r\n\r\n      for (let key2 in obj1[key]) {\r\n        if (obj1[key][key2] !== obj2[key][key2]) return false;\r\n      }\r\n    } else if (obj1[key] !== obj2[key]) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// Сравнение 2 state\r\nfunction state_equal(state1: any, state2: any) {\r\n  if (Object.entries(state1).length !== Object.entries(state2).length)\r\n    return false;\r\n\r\n  for (let key in state1) {\r\n    if (state1[key] !== state2[key]) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// Сравнение 2 props\r\nfunction props_equal(props: any, nextProps: any) {\r\n  if (props.active !== nextProps.active) return false;\r\n\r\n  if (props.childs_unvisible !== nextProps.childs_unvisible) return false;\r\n  if (props.parent !== nextProps.parent) return false;\r\n  if (props.url !== nextProps.url) return false;\r\n  if (props.dnd !== nextProps.dnd) return false;\r\n  if (!state_equal(props.item, nextProps.item)) return false;\r\n\r\n  return true;\r\n}\r\n","import React, { Component, createRef } from 'react';\r\nimport { not_close_tags } from '../../data/dom';\r\nimport view_src from '../../assets/svg/view.svg';\r\nimport not_eye_src from '../../assets/svg/not_eye.svg';\r\nimport inherit_unvisible_src from '../../assets/svg/inherit_unvisible.svg';\r\nimport classnames from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport { ThemeStore, Turl } from '../../redux/interfaces';\r\nimport * as Action from '../../redux/actions/actions';\r\nimport * as Clear from '../../redux/actions/clear_actions';\r\nimport Label from './Label';\r\nimport LayerDnd from './LayerDnd';\r\n\r\nexport interface ILayer {\r\n  childs_unvisible: boolean;\r\n  parent: boolean;\r\n  changeVisible: (bool: boolean) => void;\r\n  changeOpen: (bool: boolean) => void;\r\n  url: Turl;\r\n}\r\n\r\ninterface StateProps {\r\n  active: boolean;\r\n  item: any;\r\n  dnd: boolean;\r\n  last?: boolean;\r\n}\r\n\r\ninterface DispatchProps {\r\n  change_active: (mas: Turl) => void;\r\n  change_visible: (mas: any, value: boolean) => void;\r\n  change_item: (url: Turl, label: string) => void;\r\n  change_dnd: (bool: boolean) => void;\r\n  change_open: (mas: any, value: boolean) => void;\r\n  cx_handle_mouseup_layer: (url: any[], position: string) => void;\r\n}\r\n\r\ntype Props = ILayer & StateProps & DispatchProps;\r\n\r\ninterface IState {\r\n  active: boolean;\r\n  visible: boolean;\r\n  dnd: boolean;\r\n  hover: boolean;\r\n  position: string;\r\n}\r\n\r\nclass Layer extends Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.changeEdit = this.changeEdit.bind(this);\r\n    this.changeOpen = this.changeOpen.bind(this);\r\n    this.changeVisible = this.changeVisible.bind(this);\r\n    this.changeActive = this.changeActive.bind(this);\r\n    this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    this.handleMouseUp = this.handleMouseUp.bind(this);\r\n    this.docmousedown = this.docmousedown.bind(this);\r\n    this.changeLabel = this.changeLabel.bind(this);\r\n  }\r\n  // State\r\n  state: IState = {\r\n    active: false,\r\n    visible: this.props.item.visible,\r\n    dnd: this.props.dnd,\r\n    position: '',\r\n    hover: false,\r\n  };\r\n\r\n  // own options\r\n  arrow: any = null;\r\n  view: any = null;\r\n  classnames: string = '';\r\n  label: string = '';\r\n  style: any = {};\r\n  labelRef: any = createRef();\r\n  width = 0;\r\n  height = 0;\r\n  top = 0;\r\n  left = 0;\r\n  layerDnd: any = null;\r\n\r\n  componentDidMount() {\r\n    let { active } = this.props;\r\n    if (this.state.active !== active) {\r\n      this.setState({ active });\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.conversion(this.props, this.state);\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props, prevState: IState) {}\r\n\r\n  shouldComponentUpdate(nextProps: Props, nextState: IState) {\r\n    let bool = false;\r\n    let b = true;\r\n\r\n    if (props_equal(this.props, nextProps)) {\r\n      if (state_equal(this.state, nextState)) b = false;\r\n    }\r\n\r\n    if (!b) return false;\r\n\r\n    let { active, childs_unvisible, item } = nextProps;\r\n\r\n    if (this.props.active !== active) {\r\n      this.setState({ active });\r\n    }\r\n\r\n    if (item) {\r\n      this.conversion(nextProps, nextState);\r\n      if (!item_equal(this.props.item, item)) {\r\n        bool = true;\r\n        let state_obj: any = {};\r\n\r\n        // State\r\n        if (item.visible !== nextState.visible) {\r\n          this.props.changeVisible(item.visible);\r\n          state_obj['visible'] = item.visible;\r\n        }\r\n\r\n        if (state_obj['visible'] !== undefined) {\r\n          bool = false;\r\n          this.setState(state_obj);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.dnd !== nextProps.dnd) {\r\n      this.setState({ dnd: nextProps.dnd });\r\n    }\r\n\r\n    if (this.state !== nextState) {\r\n      this.conversion(nextProps, nextState);\r\n      bool = true;\r\n    }\r\n\r\n    if (this.props.childs_unvisible !== childs_unvisible) {\r\n      this.conversion(nextProps, nextState);\r\n      bool = true;\r\n    }\r\n\r\n    return bool;\r\n  }\r\n\r\n  updateLabelOptions() {\r\n    let elem = this.labelRef.current;\r\n    let { top, left } = elem.getBoundingClientRect();\r\n    this.top = top;\r\n    this.left = left;\r\n    this.width = elem.offsetWidth;\r\n    this.height = elem.offsetHeight;\r\n  }\r\n  changeOpen() {}\r\n\r\n  changeLabel(label: string) {\r\n    this.label = label;\r\n  }\r\n\r\n  handleMouseUp() {\r\n    this.props.cx_handle_mouseup_layer(this.props.url, this.state.position);\r\n  }\r\n\r\n  conversion(props: Props, state: IState) {\r\n    let { item, childs_unvisible, url, dnd } = props;\r\n    let { active, visible, position, hover } = state;\r\n\r\n    let arr_pl = url.filter((item) => item === 'children');\r\n\r\n    let pl = (arr_pl.length - 1) * 10;\r\n\r\n    let { tag } = item;\r\n\r\n    // View\r\n    let view = visible\r\n      ? childs_unvisible\r\n        ? inherit_unvisible_src\r\n        : view_src\r\n      : not_eye_src;\r\n\r\n    this.view = <img src={view} alt=\"visible\" />;\r\n\r\n    // Classnames\r\n    this.classnames = classnames({\r\n      visible: visible,\r\n      unvisible: !visible,\r\n      childs_unvisible,\r\n      active,\r\n      parent: false,\r\n      dnd,\r\n      center: hover && position === 'center' ? true : false,\r\n\r\n      'no-hover': hover,\r\n    });\r\n    this.classnames += ' ' + props.url.join('-');\r\n\r\n    // Label\r\n    // -----Attributes\r\n\r\n    // -----Tag\r\n    if (item) {\r\n      let label = '';\r\n      if (tag !== undefined && tag !== '') {\r\n        let bool_close_tag = not_close_tags.some((item) => item === tag);\r\n        let close_tag = bool_close_tag ? '/>' : '>';\r\n        label = '</' + tag + close_tag;\r\n      }\r\n\r\n      this.label = label;\r\n    }\r\n    // Margin-left\r\n    this.style = {\r\n      marginLeft: pl + 'px',\r\n    };\r\n\r\n    // for dnd\r\n    if (props.dnd && props.last) {\r\n      let dnd_props = {\r\n        url,\r\n        type: 'close',\r\n        top: false,\r\n        bottom: true,\r\n      };\r\n      this.layerDnd = <LayerDnd {...dnd_props} />;\r\n    } else {\r\n      this.layerDnd = null;\r\n    }\r\n  }\r\n\r\n  changeEdit() {}\r\n\r\n  changeVisible(e: any) {\r\n    pauseEvent(e);\r\n    let { visible } = this.state;\r\n    this.setState({ visible: !visible });\r\n    if (this.props.parent) this.props.changeVisible(!visible);\r\n    this.props.change_visible(this.props.url, !visible);\r\n  }\r\n\r\n  timer = setTimeout(() => {\r\n    // this.mousedowncount = 0;\r\n  }, 500);\r\n\r\n  mousedowncount = 0;\r\n  handler: boolean = false;\r\n\r\n  changeActive(e: any) {\r\n    // pauseEvent(e);\r\n    if (\r\n      !e.target.classList.contains('arrow_wrap') &&\r\n      !e.target.classList.contains('view_wrap') &&\r\n      e.target.tagName !== 'IMG'\r\n    ) {\r\n      this.setState({ active: true });\r\n      let { url } = this.props;\r\n      this.props.change_active(url);\r\n    }\r\n  }\r\n\r\n  docmousedown(e: any) {\r\n    if (e.target.tagName !== 'TEXTAREA') {\r\n      this.props.change_item(this.props.url, this.label);\r\n      this.setState({ edit: false });\r\n      this.mousedowncount = 0;\r\n      document.onmousedown = null;\r\n    }\r\n  }\r\n\r\n  handleMouseDown(e: any) {\r\n    if (!this.state.active) this.mousedowncount = 0;\r\n    this.mousedowncount++;\r\n\r\n    document.onselectstart = () => {\r\n      return false;\r\n    };\r\n    if (\r\n      !e.target.classList.contains('arrow_wrap') &&\r\n      !e.target.classList.contains('view_wrap') &&\r\n      e.target.tagName !== 'IMG'\r\n    ) {\r\n      this.setState({ active: true });\r\n      let { url } = this.props;\r\n\r\n      this.props.change_active(url);\r\n\r\n      this.timer = setTimeout(() => {\r\n        this.mousedowncount = 0;\r\n      }, 300);\r\n\r\n      if (this.handler) {\r\n        document.removeEventListener('mousedown', this.docmousedown, true);\r\n        this.handler = false;\r\n      }\r\n    }\r\n\r\n    let elem = this.labelRef.current;\r\n    let c = true;\r\n    if (c) {\r\n      elem.onmousemove = (m: any) => {\r\n        document.onselectstart = (z: any) => {\r\n          z.preventDefault();\r\n        };\r\n        elem.onmouseout = () => {\r\n          this.props.change_dnd(true);\r\n          c = false;\r\n        };\r\n      };\r\n      document.onmouseup = (c: any) => {\r\n        elem.onmousemove = null;\r\n        elem.onmouseout = null;\r\n        this.props.change_dnd(false);\r\n      };\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { view, classnames, label, style, changeVisible } = this;\r\n\r\n    return (\r\n      <li\r\n        className={classnames}\r\n        ref={this.labelRef}\r\n        onMouseDown={this.handleMouseDown}\r\n      >\r\n        <div className=\"opacity_wrap\">\r\n          <div className=\"layer_left\" style={style}>\r\n            <div className=\"layer_wrap\"></div>\r\n            <Label label={label} edit={false} changeLabel={this.changeLabel} />\r\n            {this.layerDnd}\r\n          </div>\r\n        </div>\r\n        <div className=\"view_wrap\" onMouseDown={changeVisible}>\r\n          <div className=\"view\">{view}</div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  { active_url, dom, dnd }: ThemeStore,\r\n  ownProps: ILayer,\r\n) => {\r\n  let { url } = ownProps;\r\n  let item: any = false;\r\n  let active = false;\r\n  let elem = dom.getIn(url);\r\n\r\n  if (elem) {\r\n    item = elem.delete('children').toJS();\r\n    if (elem.has('children')) {\r\n      // item.childs_length = elem.get('children').size;\r\n      item.hierarchy_bool = elem.get('children').size > 0 ? true : false;\r\n    }\r\n\r\n    active_url.forEach((active_item: any[]) => {\r\n      if (ownProps.url.join(',') === active_item.join(',')) {\r\n        active = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    active,\r\n    dnd,\r\n    item,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  change_active: Action.cx_change_active,\r\n  change_visible: Action.change_visible,\r\n  change_item: Action.change_item,\r\n  change_open: Action.change_open,\r\n  change_dnd: Clear.change_dnd,\r\n  cx_handle_mouseup_layer: Action.cx_handle_mouseup_layer,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Layer);\r\n\r\nfunction item_equal(obj1: any, obj2: any) {\r\n  let arr1 = Object.entries(obj1);\r\n  let arr2 = Object.entries(obj2);\r\n\r\n  if (arr1.length !== arr2.length) return false;\r\n\r\n  for (let key in obj1) {\r\n    if (key === 'attributes') {\r\n      if (obj2[key] === undefined) return false;\r\n\r\n      for (let key2 in obj1[key]) {\r\n        if (obj1[key][key2] !== obj2[key][key2]) return false;\r\n      }\r\n    } else if (obj1[key] !== obj2[key]) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction state_equal(state1: any, state2: any) {\r\n  if (Object.entries(state1).length !== Object.entries(state2).length)\r\n    return false;\r\n\r\n  for (let key in state1) {\r\n    if (state1[key] !== state2[key]) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\nfunction props_equal(props: any, nextProps: any) {\r\n  if (props.active !== nextProps.active) return false;\r\n\r\n  if (props.dnd !== nextProps.dnd) return false;\r\n  if (!state_equal(props.item, nextProps.item)) return false;\r\n\r\n  return true;\r\n}\r\n\r\nfunction pauseEvent(e: any) {\r\n  if (e.stopPropagation) e.stopPropagation();\r\n  if (e.preventDefault) e.preventDefault();\r\n  e.cancelBubble = true;\r\n  e.returnValue = false;\r\n  return false;\r\n}\r\n","import React, { Component, Fragment } from 'react';\r\nimport Children from './Children';\r\nimport Layer from './Layer';\r\nimport { connect } from 'react-redux';\r\nimport { ThemeStore, Turl } from '../../redux/interfaces';\r\nimport LayerClose from './LayerClose';\r\nimport store from '../../redux/store';\r\n\r\ninterface IParent {\r\n  childs_unvisible: boolean;\r\n  url: Turl;\r\n  last?: boolean;\r\n}\r\ninterface StateProps {\r\n  bool_childs: boolean;\r\n  txt: boolean;\r\n  is: boolean;\r\n  children_size: number;\r\n}\r\ninterface IState {\r\n  visible: boolean;\r\n  open: boolean;\r\n}\r\ntype Props = StateProps & IParent;\r\n\r\nclass Parent extends Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.handleChangeVisible = this.handleChangeVisible.bind(this);\r\n    this.handleChangeOpen = this.handleChangeOpen.bind(this);\r\n  }\r\n\r\n  state: IState = {\r\n    visible: true,\r\n    open: false,\r\n  };\r\n\r\n  children_props: any = {};\r\n  layer_props: any = {};\r\n  closeLayer_props: any = {};\r\n  childs: any = null;\r\n\r\n  componentWillMount() {\r\n    this.conversation(this.props, this.state);\r\n  }\r\n  componentDidMount() {\r\n    let { dom } = store.getState();\r\n    let elem = dom.getIn(this.props.url);\r\n\r\n    if (elem) {\r\n      let visible = elem.get('visible');\r\n      let open = this.props.bool_childs ? elem.get('open') : false;\r\n\r\n      this.setState({ visible, open });\r\n    }\r\n  }\r\n  shouldComponentUpdate(nextProps: Props, nextState: IState) {\r\n    if (!this.props.is) {\r\n      return false;\r\n    }\r\n\r\n    this.conversation(nextProps, nextState);\r\n\r\n    return true;\r\n  }\r\n\r\n  conversation(props: Props, state_props: IState) {\r\n    let { childs_unvisible, url, bool_childs, last } = props;\r\n    let { visible, open } = state_props;\r\n    let c = !visible || childs_unvisible ? true : false;\r\n\r\n    this.children_props = {\r\n      childs_unvisible: c,\r\n      url: [...url, 'children'],\r\n    };\r\n\r\n    this.layer_props = {\r\n      parent: bool_childs,\r\n      changeVisible: bool_childs\r\n        ? this.handleChangeVisible.bind(this)\r\n        : () => {},\r\n      changeOpen: bool_childs ? this.handleChangeOpen.bind(this) : () => {},\r\n      childs_unvisible,\r\n      url,\r\n    };\r\n\r\n    this.closeLayer_props = {\r\n      url,\r\n      childs_unvisible,\r\n      changeVisible: bool_childs\r\n        ? this.handleChangeVisible.bind(this)\r\n        : () => {},\r\n    };\r\n\r\n    if (last) {\r\n      this.layer_props['last'] = true;\r\n      this.closeLayer_props['last'] = true;\r\n    }\r\n\r\n    this.childs = open ? <Children {...this.children_props} /> : null;\r\n  }\r\n\r\n  handleChangeVisible(bool: boolean) {\r\n    this.setState({ visible: bool });\r\n  }\r\n  handleChangeOpen(bool: boolean) {\r\n    this.setState({ open: bool });\r\n  }\r\n\r\n  render() {\r\n    let close_layer = null;\r\n\r\n    if (this.state.open && !this.props.txt && this.props.children_size > 0) {\r\n      close_layer = <LayerClose {...this.closeLayer_props} />;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <Layer {...this.layer_props} />\r\n        {this.childs}\r\n        {close_layer}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = ({ dom }: ThemeStore, ownProps: IParent) => {\r\n  let { url } = ownProps;\r\n  let is = false;\r\n  let x: any = false;\r\n  let txt = false;\r\n  let children_size = 0;\r\n  let item = dom.getIn(url);\r\n\r\n  if (item) {\r\n    is = true;\r\n    x = item.get('children');\r\n    txt = item.get('textContent');\r\n    if (x) {\r\n      children_size = x.size;\r\n    }\r\n  }\r\n  return {\r\n    is,\r\n    bool_childs: x ? true : false,\r\n    txt: txt ? true : false,\r\n    children_size,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Parent);\r\n","import React, { Component } from 'react';\r\nimport Parent from './Parent';\r\nimport * as Helper from '../../helper/helper';\r\nimport { connect } from 'react-redux';\r\nimport { ThemeStore } from '../../redux/interfaces';\r\n\r\ntype TUrl = number | string;\r\n\r\ninterface IChildren {\r\n  childs_unvisible: boolean;\r\n  url: TUrl[];\r\n}\r\n\r\n// Type for url\r\ntype C = number | string;\r\n\r\ninterface IStateProps {\r\n  childs: any | any[];\r\n}\r\n\r\ntype Props = IStateProps & IChildren;\r\n\r\nclass Children extends Component<Props> {\r\n  Components: any = [];\r\n\r\n  conversion(props: Props) {\r\n    let { childs_unvisible, url, childs } = props;\r\n\r\n    this.Components = childs.map((item: any, index: number) => {\r\n      let parent_props: any = {\r\n        childs_unvisible,\r\n        url: [...url, index],\r\n        key: item,\r\n      };\r\n\r\n      if (index === childs.length - 1) {\r\n        parent_props['last'] = true;\r\n      }\r\n      return <Parent {...parent_props} />;\r\n    });\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.conversion(this.props);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: Props) {\r\n    let b = false;\r\n\r\n    if (!keys_equal(this.props.childs, nextProps.childs)) {\r\n      if (!b) b = true;\r\n    }\r\n    if (!Helper.arr_equal(this.props.url, nextProps.url)) {\r\n      if (!b) b = true;\r\n    }\r\n    if (this.props.childs_unvisible !== nextProps.childs_unvisible) {\r\n      if (!b) b = true;\r\n    }\r\n    if (!b) return false;\r\n\r\n    this.conversion(nextProps);\r\n\r\n    return b;\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ul className=\"sub_dom\">{this.Components}</ul>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ dom }: ThemeStore, ownProps: IChildren) => {\r\n  let { url } = ownProps;\r\n  let childs = [];\r\n  let item_key;\r\n\r\n  if (dom.hasIn(url)) {\r\n    childs = dom\r\n      .getIn(url)\r\n      .map((item: any) => {\r\n        item_key = item.get('id');\r\n\r\n        return item_key;\r\n      })\r\n      .toJS();\r\n  }\r\n\r\n  return {\r\n    childs,\r\n  };\r\n};\r\n\r\nfunction keys_equal(arr1: any, arr2: any) {\r\n  if (arr1 instanceof Array && arr2 instanceof Array) {\r\n    if (Object.entries(arr1).length !== Object.entries(arr2).length)\r\n      return false;\r\n\r\n    for (let i = 0; i < arr1.length; i++) {\r\n      if (arr1[i] !== arr2[i]) return false;\r\n    }\r\n  } else {\r\n    if (arr1 !== arr2) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Children);\r\n","import React, { Fragment } from 'react';\r\nimport Children from './Children';\r\n\r\nfunction LayersList() {\r\n  let children_props = {\r\n    childs_unvisible: false,\r\n    url: ['children'],\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ul className=\"dom_list\">\r\n        <Children {...children_props} />\r\n      </ul>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default LayersList;\r\n","import React from 'react';\nimport LayersList from './LayersList';\n\nimport ScrollArea from 'react-scrollbar';\n\nconst styleVerticalCursor = {\n  background: '#ffffff4a',\n  borderRadius: '5px',\n  width: '5px',\n  corsor: 'pointer',\n};\n\nconst styleVerticalTrack = {\n  background: 'none',\n};\n\nfunction Layers2() {\n  return (\n    <ScrollArea\n      speed={1}\n      className=\"layers-wrap\"\n      contentClassName=\"content\"\n      smoothScrolling={true}\n      verticalScrollbarStyle={styleVerticalCursor}\n      verticalContainerStyle={styleVerticalTrack}\n      horizontal={false}\n    >\n      <LayersList />\n    </ScrollArea>\n  );\n}\n\nexport default Layers2;\n","import React from 'react';\r\nimport './LabelPanel.sass';\r\nimport close_url from '../../assets/svg/close.svg';\r\n\r\ninterface ILabelPanel {\r\n  text: string;\r\n  icon: string;\r\n  close: boolean;\r\n}\r\n\r\nfunction LabelPanel({ text, icon, close }: ILabelPanel) {\r\n  return (\r\n    <div className=\"modular_label\">\r\n      <div className=\"ml_wrap\">\r\n        <img src={icon} alt=\"DOM\" />\r\n        <span className=\"title\">{text}</span>\r\n      </div>\r\n      {close && (\r\n        <img src={close_url} className=\"close\" alt=\"modal window close\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LabelPanel;\r\n","import React from 'react';\nimport Layers from './Layers';\nimport Label from '../LabelModal/LabelPanel';\nimport icon from '../../assets/svg/layer.svg';\nimport '../../style/dom.sass';\n\nfunction DOM() {\n  return (\n    <div className=\"layer-block\" style={{ height: '100%' }}>\n      <Label text=\"DOM\" icon={icon} close={false} />\n      <Layers />\n    </div>\n  );\n}\n\nexport default DOM;\n","import React, { Component } from 'react';\nimport DOM from '../DOM/DOM';\nimport './LeftSide.sass';\n\nexport default class LeftSide extends Component {\n  render() {\n    return (\n      <div className=\"left_side\">\n        <DOM />\n      </div>\n    );\n  }\n}\n","import React, { Fragment } from 'react';\nimport LeftSide from '../LeftSide/LeftSide';\nimport './App.sass';\n\nfunction App() {\n  return (\n    <Fragment>\n      <LeftSide />\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nconst root = document.querySelector('#root');\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  root,\n);\n","module.exports = __webpack_public_path__ + \"static/media/view.c195f278.svg\";","module.exports = __webpack_public_path__ + \"static/media/not_eye.22a31ebe.svg\";","module.exports = __webpack_public_path__ + \"static/media/inherit_unvisible.b9a1b03b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_dom.1477d7bd.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.a81d18ab.svg\";","module.exports = __webpack_public_path__ + \"static/media/layer.ea03a2ac.svg\";"],"sourceRoot":""}